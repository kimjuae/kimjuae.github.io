(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"7FfI":function(e,t,n){"use strict";var o=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.formatDate=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n=c(n);var m=["elapsed-year","elapsed","short-elapsed"];if(m.indexOf(t)>-1){var u=t.replace(/\b[a-z]/g,(function(e){return e.toUpperCase()})).replace("-",""),p=r.localesConfig[n]["relativeTime".concat(u)]||r.DEFAULT_RELATIVE_TIME;i.default.updateLocale(n,{relativeTime:p}),i.default.locale("en")}var f=(0,i.default)(e);if(f.locale(n),m.indexOf(t)>-1){var h="elapsed"===t||"short-elapsed"===t?12:24,b=d("hours",h="elapsed-year"===t&&a?3*h:h,e,(0,i.default)().toISOString());if(b)return f.fromNow(o);if("short-elapsed"===t){var v=(0,i.default)().diff(f,"days"),g=f.localeData();return g.relativeTime(v,o,"dd")}var y=t;t=o?"ll":"LL","elapsed"===y&&f.year()===(0,i.default)().year()&&(t=o?"L":"l")}var O="MMM D, YYYY"===t&&r.localesConfig[n].longDateFormat.LL?"LL":t;"MMM D, YYYY, h:mm a z"===t&&r.localesConfig[n].longDateFormat.LLLL&&(O="LLLL");var x=f.tz("America/New_York").format(O);if("zh-cn"===n)return l(x);return s(x)},Object.defineProperty(t,"NYT_MONTHS",{enumerable:!0,get:function(){return r.NYT_MONTHS}}),Object.defineProperty(t,"FULL_MONTHS",{enumerable:!0,get:function(){return r.FULL_MONTHS}}),Object.defineProperty(t,"ABBREVIATED_MONTHS",{enumerable:!0,get:function(){return r.ABBREVIATED_MONTHS}}),Object.defineProperty(t,"FULL_DAYS",{enumerable:!0,get:function(){return r.FULL_DAYS}}),t.getISOFromString=t.isSame=t.isAfterISO=t.isISOToday=t.getElapsedMinutes=t.getISOFromUnix=t.getUnixFromISO=t.getFullDate=t.getDisplayDate=t.parseISODate=t.timeDiff=t.getTimestampLocale=void 0;var a=o(n("J4zp")),i=o(n("wd/R")),r=(n("f0Wu"),n("Y6Mw"));Object.keys(r.localesConfig).forEach((function(e){"monthsShort"!==e&&(i.default.locales().indexOf(e)<0?i.default.locale(e,r.localesConfig[e]):i.default.updateLocale(e,r.localesConfig[e]))})),i.default.locale("en"),i.default.relativeTimeThreshold("s",59),i.default.relativeTimeThreshold("ss",59),i.default.relativeTimeThreshold("m",60),i.default.relativeTimeThreshold("h",24);var c=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",n=(null===(e=t)||void 0===e?void 0:e.split("-"))||"en",o=(0,a.default)(n,1);return(t=o[0])&&r.localesConfigMap[t]?r.localesConfigMap[t]:"en"};t.getTimestampLocale=c;var s=function(e){return e.replace(/am/i,"a.m.").replace(/pm/i,"p.m.").replace(/EST/,"ET").replace(/EDT/,"ET")},l=function(e){return e.replace(/EST/,"美国东部时间").replace(/EDT/,"美国东部时间")},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"hours",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=(0,i.default)(n),r=(0,i.default)(o);return Math.abs(r.diff(a,e))<t};t.timeDiff=d;var m=/^([0-9]{4})-([0-1][0-9])-([0-3][0-9])T([0-2][0-9]):([0-5][0-9]):([0-5][0-9])\./,u=function(e){if(!e)return null;var t=e.substring(e.length-3);if("EDT"===t||"EST"===t){if(!m.exec(e))return null;var n="EDT"===t?4:5,o=m.exec(e),r=(0,a.default)(o,7),c=r[0],s=r[1],l=r[2],d=r[3],u=r[4],p=r[5],f=r[6];return{full:c,year:s,month:l,day:d,hours:u,minutes:p,seconds:f,unix:i.default.utc([parseInt(s,10),parseInt(l,10)-1,parseInt(d,10),parseInt(u,10)-1,parseInt(p,10)-1,parseInt(f,10)-1,0]).add(n,"hours").unix()}}var h=(0,i.default)(e).tz("America/New_York");return{full:e,year:h.year(),month:h.month()+1<10?"0".concat(h.month()+1):h.month()+1,day:h.date()<10?"0".concat(h.date()):h.date(),hours:h.hour()<10?"0".concat(h.hour()):h.hour(),minutes:h.minute()<10?"0".concat(h.minute()):h.minute(),seconds:h.second()<10?"0".concat(h.second()):h.second(),unix:h.unix(),dayOfWeek:h.day()}};t.parseISODate=u;t.getDisplayDate=function(e){var t=u(e);return t?"".concat(r.ABBREVIATED_MONTHS[parseInt(t.month,10)-1]," ").concat(parseInt(t.day,10),", ").concat(t.year):null};t.getFullDate=function(e){var t=u(e);return t?"".concat(r.FULL_MONTHS[parseInt(t.month,10)-1]," ").concat(parseInt(t.day,10),", ").concat(t.year):null};t.getUnixFromISO=function(e){var t=u(e);return t?t.unix:null};t.getISOFromUnix=function(e){return e?new Date(1e3*e).toISOString():null};t.getElapsedMinutes=function(e){var t=((new Date).getTime()-e.getTime())/1e3;return Math.floor(t/60)};t.isISOToday=function(e){var t=(0,i.default)().tz("America/New_York"),n=(0,i.default)(e).tz("America/New_York");return t.isSame(n,"day")};t.isAfterISO=function(e,t){return(0,i.default)(e).isAfter(t)};t.isSame=function(e,t){return(0,i.default)(e).isSame(t)};t.getISOFromString=function(e){return(0,i.default)(e).toISOString()}},"9onL":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s}));var o=n("Jqp9"),a=n("wXC7"),i=n.n(a),r=Object(o.css)("border:1px solid ",i.a.color.gray60,";border-radius:3px;color:",i.a.color.black,";font-family:",i.a.font.franklinBase,";font-size:",i.a.font.size(15),";line-height:",i.a.font.size(18),";padding:10px 15px;transition:0.6s;width:100%;&:focus{border-color:",i.a.color.blue20,";}"),c=Object(o.css)("overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;white-space:pre-wrap;"),s=Object(o.css)("color:",i.a.color.red10,";display:inline-block;")},GUXu:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var o={};n.r(o),n.d(o,"actionClass",(function(){return f})),n.d(o,"secondaryClass",(function(){return h})),n.d(o,"defaultClass",(function(){return b}));var a=n("pVnL"),i=n.n(a),r=n("QILm"),c=n.n(r),s=(n("17x9"),n("q1tI")),l=n.n(s),d=n("Jqp9"),m=n("wXC7"),u=n.n(m),p=Object(d.css)("background:none;border:none;color:",u.a.color.linkColor,";font-family:",u.a.font.franklinBase,";font-size:",u.a.font.size(13),";line-height:",u.a.font.size(18),";text-decoration:none;&:hover{text-decoration:underline;cursor:pointer;}"),f=Object(d.css)("button&,a{",p,";font-weight:",u.a.font.weight.mediumBold,";}"),h=Object(d.css)("button&,a{",p,";}"),b=Object(d.css)("button&,a{",p,";color:",u.a.color.gray40,";padding-bottom:4px;}"),v={ACTION:"action",SECONDARY:"secondary",DEFAULT:"default"},g=function(e){var t=e.children,n=e.onClick,a=e.theme,r=c()(e,["children","onClick","theme"]),s=o["".concat(a,"Class")];return n?l.a.createElement("button",i()({type:"button",tabIndex:0,className:s,onClick:n},r),t):l.a.createElement("span",i()({className:s},r),t)};g.displayName="TextButton",g.defaultProps={children:null,onClick:null,theme:v.DEFAULT};t.b=g},Id00:function(e,t,n){"use strict";var o=n("gcR/"),a=n.n(o),i=(n("17x9"),n("q1tI"),n("+4HN")),r=n("WXMI"),c=function(e){var t=e.children;return a()(i.a,{url:r.b},void 0,t)};c.displayName="LoginLink",t.a=c},Y6Mw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localesConfig=t.localesConfigMap=t.DEFAULT_RELATIVE_TIME=t.FULL_DAYS=t.ABBREVIATED_MONTHS=t.FULL_MONTHS=t.NYT_MONTHS=void 0;t.NYT_MONTHS=["Jan","Feb","March","April","May","June","July","Aug","Sept","Oct","Nov","Dec"];t.FULL_MONTHS=["January","February","March","April","May","June","July","August","September","October","November","December"];var o=["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."];t.ABBREVIATED_MONTHS=o;t.FULL_DAYS=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var a={future:"%s",past:"%s",s:function(e,t){return t?null:"just now"},ss:function(e,t){return t?null:"just now"},m:function(e,t){return"".concat(e,t?" minute ago":"m ago")},mm:function(e,t){return t?"".concat(e," ").concat(1===e?"minute":"minutes"," ago"):"".concat(e,"m ago")},h:function(e,t){return t?"1 hour ago":"1h ago"},hh:function(e,t){return"".concat(e,t?" hours ago":"h ago")},d:"%dd ago",dd:"%dd ago"};t.DEFAULT_RELATIVE_TIME=a;t.localesConfigMap={en:"en",es:"es",zh:"zh-cn"};var i={monthsShort:o,en:{monthsShort:o,relativeTimeElapsed:a,relativeTimeElapsedYear:{future:"%s",past:"%s",s:"%ds ago",ss:"%ds ago",m:"%dm ago",mm:"%dm ago",h:"%dh ago",hh:"%dh ago",d:"%dd ago",dd:"%dd ago"},relativeTimeShortElapsed:{future:"%s",past:"%s",s:"%ds",ss:"%ds",m:"%dm",mm:"%dm",h:"%dh",hh:"%dh",d:"%dd",dd:"%dd"},longDateFormat:{l:"MMM D",L:"MMMM D",LL:"MMM D, YYYY",ll:"MMMM D, YYYY",LLL:"dddd, MMMM D, YYYY",LLLL:"MMM D, YYYY, h:mm a z",llll:"h:mm a z"}},es:{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:"en._febr._mzo._abr._mayo_jun._jul._ag._sept._oct._nov._dic.".split("_"),weekdays:function(e,t){var n="domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),o=n[e.day()];return e.localeData().longDateFormat("LLL")===t&&(o=o.charAt(0).toUpperCase()+o.slice(1)),o},relativeTimeElapsed:{future:"%s",past:"%s",s:function(e,t){return t?null:"justo ahora"},ss:function(e,t){return t?null:"justo ahora"},m:function(e,t){return"Hace ".concat(e,t?" minuto":" m")},mm:function(e,t){return t?"Hace ".concat(e," ").concat(1===e?"minuto":"minutos"):"Hace ".concat(e," m")},h:function(e,t){return"Hace ".concat(e,t?" hora":" h")},hh:function(e,t){return"Hace ".concat(e,t?" horas":" h")},d:"Hace %d d",dd:"Hace %d d"},relativeTimeElapsedYear:{future:"%s",past:"%s",s:"Hace %d s",ss:"Hace %d s",m:"Hace %d m",mm:"Hace %d m",h:"Hace %d h",hh:"Hace %d h",d:"Hace %d d",dd:"Hace %d d"},relativeTimeShortElapsed:{future:"%s",past:"%s",s:"%d s",ss:"%d s",m:"%d m",mm:"%d m",h:"%d h",hh:"%d h",d:"%d d",dd:"%d d"},longDateFormat:{l:"D [de] MMMM",L:"D [de] MMMM",LL:"D [de] MMMM [de] YYYY",ll:"D [de] MMMM [de] YYYY",LLL:"dddd, D [de] MMMM [de] YYYY",LLLL:"D [de] MMMM [de] YYYY [a las] HH:mm z",llll:"HH:mm z"}},"zh-cn":{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),weekdays:"星期天_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),relativeTimeElapsed:{future:"%s",past:"%s",s:function(e,t){return t?null:"刚刚"},ss:function(e,t){return t?null:"刚刚"},m:"%d分钟前",mm:"%d分钟前",h:"%d小时前",hh:"%d小时前",d:"%d天前",dd:"%d天前"},relativeTimeElapsedYear:{future:"%s",past:"%s",s:"%d秒前",ss:"%d秒前",m:"%d分钟前",mm:"%d分钟前",h:"%d小时前",hh:"%d小时前",d:"%d天前",dd:"%d天前"},relativeTimeShortElapsed:{future:"%s",past:"%s",s:"%d秒",ss:"%d秒",m:"%d分钟",mm:"%d分钟",h:"%d小时",hh:"%d小时",d:"%d天",dd:"%d天"},longDateFormat:{l:"M月D日",L:"M月D日",LL:"YYYY年M月D日",ll:"YYYY年M月D日",LLL:"YYYY年M月D日 dddd",LLLL:"YYYY年M月D日，HH:mm z",llll:"HH:mm z"}}};t.localesConfig=i},bNI1:function(e){e.exports=JSON.parse('{"version":"2017b","zones":["America/New_York|EST EDT EWT EPT|50 40 40 40|01010101010101010101010101010101010101010101010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261t0 1nX0 11B0 1nX0 11B0 1qL0 1a10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 RB0 8x40 iv0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|21e6","Etc/UTC|UTC|0|0|"],"links":[]}')},dlEz:function(e,t,n){"use strict";n("ma9I"),n("yXV3"),n("rMz7"),n("DQNa"),n("07d7"),n("SuFq"),n("JfAA");var o=n("gcR/"),a=n.n(o),i=n("lwsE"),r=n.n(i),c=n("W8MJ"),s=n.n(c),l=n("7W2i"),d=n.n(l),m=n("a1gu"),u=n.n(m),p=n("Nsbk"),f=n.n(p),h=n("q1tI"),b=(n("17x9"),n("Jqp9")),v=n("7FfI");var g={elapsed:"elapsed","elapsed-with-label":"elapsed","elapsed-with-year":"elapsed-year","short-elapsed":"short-elapsed","nyt-date":"LL","full-date":"ll","masthead-date":"LLL","abbreviated-date":"LL"},y=function(e){d()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,o=f()(e);if(t()){var a=f()(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return u()(this,n)}}(n);function n(){var e;r()(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={localeTimestamp:null,dateTime:Object(v.getISOFromUnix)(e.props.unix)},e}return s()(n,[{key:"componentDidMount",value:function(){this.formatTime()}},{key:"componentDidUpdate",value:function(e){e.iso===this.props.iso&&e.unix===this.props.unix&&e.formatter===this.props.formatter||this.formatTime()}},{key:"formatTime",value:function(){var e=this.props.iso&&Object(v.getISOFromString)(new Date(this.props.iso))||Object(v.getISOFromUnix)(this.props.unix)||(new Date).toISOString();this.setState({label:["elapsed-with-year","elapsed"].indexOf(this.props.formatter)>-1?this.toLocale(e,!0):null,localeTimestamp:this.toLocale(e,["elapsed-with-year","elapsed-with-label"].indexOf(this.props.formatter)>-1)})}},{key:"toLocale",value:function(e,t){var n=this.props,o=n.formatter,a=n.theme,i=Object(v.getTimestampLocale)(null==a?void 0:a.language),r="elapsed-with-year"===this.props.formatter;if("function"==typeof o)return o({date:new Date(e),labelText:t,checkDays:r});var c=g[o]?g[o]:"LL";return Object(v.formatDate)(e,c,i,t,r)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.updatedText,o=e.updatedTextClassName;return this.state.localeTimestamp?a()("time",{"data-testid":"todays-date","aria-label":this.state.label,className:t,dateTime:this.state.dateTime},void 0,n?a()("span",{className:o},void 0,"Updated"):null,this.state.localeTimestamp):null}}]),n}(h.Component);y.displayName="Timestamp",y.defaultProps={unix:void 0,iso:void 0,className:void 0,updatedText:!1,updatedTextClassName:void 0,theme:void 0},t.a=Object(b.withTheme)(y)},iEJF:function(e,t,n){"use strict";var o=n("gcR/"),a=n.n(o),i=(n("q1tI"),n("17x9"),n("Jqp9")),r=n("wXC7"),c=n.n(r),s=a()("line",{x1:"11",y1:"1",x2:"1",y2:"11"}),l=a()("line",{x1:"1",y1:"1",x2:"11",y2:"11"});function d(e){var t=e.className,n=e.stroke,o=e.strokeWidth;return a()("svg",{className:Object(i.cx)(t),viewBox:"0 0 12 12",stroke:n,strokeWidth:o,strokeLinecap:"round",style:{opacity:.95}},void 0,s,l)}d.displayName="CloseIcon",d.defaultProps={className:"",stroke:c.a.color.black,strokeWidth:"1"},t.a=d},izyI:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var o=n("gcR/"),a=n.n(o),i=n("lSNA"),r=n.n(i),c=(n("q1tI"),n("Jqp9")),s=(n("17x9"),n("TWNs"),n("rB9j"),n("JfAA"),n("ZKN5")),l=n("wXC7"),d=n.n(l),m=Object(c.css)("display:inline-block;margin-right:10px;overflow:hidden;object-fit:cover;.medium &{border-radius:50%;height:30px;width:30px;}.small &{border-radius:50%;height:26px;width:26px;}span&{background:",d.a.color.gray50,";color:",d.a.color.white,";display:inline-block;font-size:12px;text-align:center;text-transform:uppercase;.medium &{line-height:33px;}.small &{line-height:29px;}}.placeholder &{background:",d.a.color.gray80,";}"),u=new RegExp("http(s?)://graphics8.nytimes.com/images/apps/timespeople/none.png"),p="medium",f="small";function h(e){var t=e.url,n=e.title,o=e.size,i=e.placeholder,r=function(e){return e&&u.test(e)?null:e}(t);return a()("div",{className:Object(c.cx)(o,{placeholder:i}),"aria-hidden":"true"},void 0,r&&a()("img",{className:m,alt:n,src:r}),!r&&a()("span",{className:m},void 0,n.substr(0,1)))}h.displayName="UserHeader",h.defaultProps={size:p,title:"",url:null,placeholder:!1};var b,v=Object(s.a)(h),g=(n("zHFu"),Object(c.css)("display:flex;font-size:",d.a.font.size(15),";margin-bottom:5px;width:100%;")),y=Object(c.css)("flex-grow:2;"),O=Object(c.css)("margin-left:10px;"),x=Object(c.css)("font-weight:",d.a.font.weight.bold,";"),I=Object(c.css)("color:",d.a.color.gray35,";font-size:",d.a.font.size(14),";font-weight:",d.a.font.weight.light,";line-height:",d.a.font.size(17),";margin-top:3px;a{color:",d.a.color.gray35,";font-family:",d.a.font.franklinBase,";text-decoration:none;&:hover{text-decoration:underline;}}"),w=Object(c.css)(".",x,"{background:",d.a.color.gray80,";height:10px;width:162px;}.",I,"{background:",d.a.color.gray80,";height:10px;margin-top:4px;width:100px;}"),N={MEDIUM:"medium",SMALL:"small"},C=(b={},r()(b,N.MEDIUM,p),r()(b,N.SMALL,f),b);function j(e){var t=e.title,n=e.subtitle,o=e.avatarUrl,i=e.secondaryContent,r=e.size,s=e.avatarTitle;return e.placeholder?a()("div",{className:Object(c.cx)(g,w)},void 0,a()(v,{size:C[r],placeholder:!0}),a()("div",{className:y},void 0,a()("div",{className:x}),a()("div",{className:I}))):a()("div",{className:g},void 0,a()(v,{title:s||t,url:o,size:C[r]}),a()("div",{className:y},void 0,a()("div",{className:x},void 0,t),n&&a()("div",{className:I},void 0,n)),i&&a()("div",{className:O},void 0,i))}j.displayName="UserHeader",j.defaultProps={title:"",subtitle:null,avatarUrl:null,secondaryContent:null,size:N.M,avatarTitle:null,placeholder:!1};t.b=j},mLxj:function(e,t,n){"use strict";t.a="/vi-assets/static-assets/icon-t-logo-16x16-white-ad841ea17addc275d2a0d56571eefb0c.svg"},vAfL:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return xn}));var o=n("VkAN"),a=n.n(o),i=n("gcR/"),r=n.n(i),c=n("q1tI"),s=n.n(c),l=(n("17x9"),n("QS0n")),d=n("Dugd"),m=n.n(d),u=n("ZKN5"),p=n("8iTF"),f=n("TVGw"),h=(n("ma9I"),n("DQNa"),n("07d7"),n("SuFq"),n("rB9j"),n("JfAA"),n("hByQ"),n("R5XZ"),n("lSNA")),b=n.n(h),v=n("lwsE"),g=n.n(v),y=n("W8MJ"),O=n.n(y),x=n("7W2i"),I=n.n(x),w=n("a1gu"),N=n.n(w),C=n("Nsbk"),j=n.n(C),T=n("X6oL"),k=n.n(T),z=n("cr+I"),L=n.n(z),M=n("Vg22"),E=n("wXC7"),S=n.n(E),R=n("iEJF"),_=function(e,t){13!==e.keyCode&&32!==e.keyCode||t()},A=function(e,t){27===e.keyCode&&t()},D=n("Jqp9"),P=n("hKNt"),F=n("a9ya"),Y=n("e0Jg"),H=(n("2B1R"),n("pDQq"),n("RIqP")),U=n.n(H),B=n("cFmA"),X=n("f81r"),q=(n("TeQF"),n("uyHG")),J=n.n(q),W=n("2oaX"),V=(J()((function(e){return null==e?void 0:e[Math.floor(Math.random()*e.length)]})),J()((function(e,t,n){var o;return null==e||null===(o=e.commentIds)||void 0===o?void 0:o.filter((function(e){return Object(W.b)(t,e).attributes.text.length<=n}))})),n("pNMO"),n("QWBl"),n("sMBO"),n("HRxU"),n("eoL8"),n("5DmW"),n("27RR"),n("tkto"),n("FZtP"),n("dlEz")),G=n("7FfI"),Q=n("izyI"),K=(n("zHFu"),n("9onL")),Z=Object(D.css)("padding-top:10px;"),$=Object(D.css)("font-size:",S.a.font.size(13),";line-height:",S.a.font.size(17),";h6{color:#589714;font-weight:",S.a.font.weight.bold,";}"),ee=Object(D.css)("font-size:",S.a.font.size(14),";line-height:",S.a.font.size(18),";background:",S.a.color.gray90,";margin-top:15px;padding:15px;"),te=Object(D.css)(K.c,";font-size:",S.a.font.size(14),";line-height:",S.a.font.size(20),";");function ne(e){var t=e.avatarUrl,n=e.commentNotify,o=e.displayName,a=e.location,i=e.text,c=e.isReply,s=n?X.a.waitingOnApprovalNotify:X.a.waitingOnApproval;return r()("div",{className:Object(D.cx)(b()({},Z,c))},void 0,r()("div",{className:$},void 0,r()("h6",{},void 0,X.a.submissionThanks),s),r()("div",{className:ee},void 0,r()(Q.b,{size:Q.a.SMALL,title:o,avatarUrl:t,subtitle:"".concat(a," | ").concat(X.a.pendingApproval)}),r()("div",{className:te},void 0,i)))}ne.displayName="SubmittedComment",ne.defaultProps={avatarUrl:null,isReply:!1};var oe=Object(M.connect)((function(e,t){var n=e.profile.data;return{displayName:n.displayName,location:n.location,avatarUrl:n.picURL,email:n.email,commentNotify:Boolean(n.comment_notify),text:e.commentEntry.submittedComments[t.replyToCommentId]}}))(ne),ae=(n("5s+n"),n("InUh")),ie=n.n(ae);function re(){var e=a()(["\n    fragment CommentEntry_article on Article {\n      ...CommentForm_article\n    }\n    fragment CommentForm_article on Article {\n      url\n    }\n  "]);return re=function(){return e},e}var ce=ie()((function(){return Promise.all([n.e(0),n.e(11),n.e(26)]).then(n.bind(null,"69BI"))}),{loadableGenerated:{webpack:function(){return["69BI"]},modules:["./CommentForm"]}}),se=Object(D.css)("position:relative;");function le(e){var t=e.replyToCommentId,n=e.article;return r()("div",{className:se},void 0,r()(ce,{article:n,replyToCommentId:t}))}le.displayName="CommentEntry",le.defaultProps={replyToCommentId:void 0},le.fragments={article:m()(re())};var de=Object(M.connect)()(le),me=Object(D.css)("font-size:",S.a.font.size(12),";font-weight:",S.a.font.weight.light,";line-height:",S.a.font.size(16),";margin-top:15px;h4{color:",S.a.color.gray35,";text-transform:uppercase;}"),ue=Object(D.css)("border-left:2px solid ",S.a.color.gray70,";padding-left:15px;"),pe=Object(D.css)("background:",S.a.color.white,";border:1px solid ",S.a.color.gray50,";border-radius:4px;color:",S.a.color.gray27,";display:block;font-size:0.62rem;font-weight:",S.a.font.weight.medium,";letter-spacing:0.025rem;line-height:",S.a.font.size(18),";margin-top:20px;padding:5px 0;text-transform:uppercase;width:100%;&:hover{background-color:",S.a.color.gray90,";border:1px solid ",S.a.color.gray60,";color:",S.a.color.gray25,";}"),fe=function(e){var t=e.numTotalReplies,n=e.replies,o=e.viewId,a=e.fetchReplies,i=e.isFetchingReplies,c=e.isAcceptingComments,s=e.sourceId,l=e.articleId;if(0===t)return null;var d=n.length<t;return r()("div",{className:me},void 0,r()("h4",{},void 0,t," ",t>1?X.a.replies:X.a.reply),r()("div",{className:ue,"aria-live":"polite"},void 0,n.map((function(e){return r()(ct,{commentId:e,viewId:o,isAcceptingComments:c,isNested:!0,sourceId:s,articleId:l},e)}))),d&&r()("button",{type:"button",className:pe,onClick:a},void 0,i?X.a.loading:X.a.viewAllReplies))};fe.displayName="ReplyList",fe.defaultProps={fetchReplies:void 0,isFetchingReplies:void 0,isAcceptingComments:void 0};var he=fe,be=n("OO03"),ve=n("HUmG"),ge=n("mFn4"),ye=n.n(ge),Oe=n("Id00"),xe=n("GUXu");function Ie(e){var t=e.user,n=e.hasUserRecommended,o=e.recommendedCount,a=e.unrecommendComment,i=e.recommendComment,c=Object(T.useTracking)(),s=n?X.a.recommended:X.a.recommend,l=o>0?"".concat(o," ").concat(s):s;return Object(ve.c)(t)?r()(xe.b,{theme:xe.a.SECONDARY,onClick:function(){return function(e){n?(c.trackEvent(Object(Y.p)(e)),a()):(c.trackEvent(Object(Y.j)(e)),i())}(l)}},void 0,l):r()(xe.b,{theme:xe.a.SECONDARY},void 0,r()(Oe.a,{},void 0,l))}Ie.displayName="RecommendButton",Ie.defaultProps={user:void 0};var we=Object(be.a)(Object(M.connect)((function(e,t){return{recommendedCount:Object(W.e)(e,t.commentId),hasUserRecommended:Object(W.f)(e,t.commentId)}}),(function(e,t){return{recommendComment:function(){return e(Object(P.n)(t.commentId))},unrecommendComment:function(){return e(Object(P.q)(t.commentId))}}}))(Ie)),Ne=n("HzmA");function Ce(e){var t=e.openCommentEntry,n=Object(Ne.a)().user;return Object(ve.c)(n)?r()(xe.b,{theme:xe.a.ACTION,onClick:function(){t()}},void 0,X.a.reply):r()(xe.b,{theme:xe.a.ACTION},void 0,r()(Oe.a,{},void 0,X.a.reply))}Ce.displayName="ReplyButton";var je=Object(M.connect)(null,(function(e,t){return{openCommentEntry:function(){return e(Object(P.m)(t.replyToCommentId))}}}))(Ce);function Te(e){var t=e.commentId,n=e.isNested,o=e.numReplies,a=e.replyToAuthorName,i=e.replyToCommentId,c=e.shouldHideReplies,s=e.isAcceptingComments,d=e.handleShowReplies,m=Object(l.useHistory)(),u=Object(l.useLocation)(),p=!n&&i&&a&&s;if(p)return r()("span",{},void 0,p&&r()(xe.b,{theme:xe.a.ACTION,onClick:function(e){e.preventDefault(),Object(f.f)({history:m,location:u},i)}},void 0,X.a.inReplyTo," ",a));if(c){var h="".concat(o," ").concat(o>1?X.a.replies:X.a.reply);return r()(xe.b,{theme:xe.a.ACTION,onClick:d},void 0,h)}return s?r()(je,{replyToCommentId:t}):null}Te.defaultProps={isNested:!1,replyToAuthorName:void 0,replyToCommentId:void 0,isAcceptingComments:void 0,shouldHideReplies:void 0,handleShowReplies:function(){return null}};var ke=Object(M.connect)((function(e,t){return{numReplies:Object(W.d)(e,t.commentId),replyToCommentId:Object(W.h)(e,t.commentId),replyToAuthorName:Object(W.g)(e,t.commentId)}}))(Te),ze=n("7WMn"),Le=function(e){var t=e.sourceId,n=e.commentId;if(!e.userIsModerator)return null;return r()(xe.b,{onClick:function(){var e=Object(ze.b)()===ze.a.PRD?"prd":"dev",o="https://moderator-dashboard.".concat(e,".nyt.net/articles/article_").concat(t,"/comments/").concat(n);window.open(o)}},void 0,"Moderate")};Le.displayName="InternalUseOnlyModerateButton";var Me=Le,Ee=Object(D.css)("margin:20px 0 15px;font-family:",S.a.font.franklinBase,";font-size:0.75rem;color:",S.a.color.gray40,";line-height:1;text-align:center;width:100%;"),Se="".concat(X.a.permalink,": ");function Re(e){var t=e.shortUrl,n=e.commentId,o=e.fetchShortUrl;Object(c.useEffect)((function(){o()}),[o]);var a="#permid=".concat(n),i=Se+(t?"".concat(t).concat(a):"Loading...");return r()("input",{className:Ee,readOnly:!0,onFocus:function(e){var t=e.target;t.focus(),window.setTimeout((function(){t.setSelectionRange(Se.length,t.value.length)}),0)},value:i})}Re.displayName="Permalink",Re.defaultProps={shortUrl:null};var _e=Object(M.connect)((function(e,t){return{shortUrl:Object(W.j)(e,t.commentId)}}),(function(e,t){return{fetchShortUrl:function(){return e(Object(P.j)(t.commentId))}}}))(Re),Ae=Object(D.css)("a,button{background:none;border:none;color:",S.a.color.linkColor,";font-family:",S.a.font.franklinBase,";font-size:",S.a.font.size(13),";line-height:",S.a.font.size(18),";margin-right:10px;text-align:left;text-decoration:none;vertical-align:top;&:hover{text-decoration:underline;cursor:pointer;}}"),De=Object(D.css)("margin-right:0;float:right;a,button{color:",S.a.color.gray40,";}"),Pe=ie()((function(){return Promise.all([n.e(0),n.e(11),n.e(26)]).then(n.bind(null,"2XQA"))}),{loadableGenerated:{webpack:function(){return["2XQA"]},modules:["../FlagForm"]}});function Fe(e){var t=e.commentId,n=e.viewId,o=e.sourceId,a=e.isNested,i=e.shouldHideReplies,c=e.isAcceptingComments,s=e.handleShowReplies,l=e.userIsModerator,d=e.user,m=Object(ve.c)(d);return r()("div",{},void 0,r()("div",{className:Ae},void 0,r()(Me,{userIsModerator:l,commentId:t,sourceId:o}),r()(ke,{handleShowReplies:s,shouldHideReplies:i,isAcceptingComments:c,viewId:n,commentId:t,isNested:a}),r()(we,{commentId:t}),r()(ye.a,{width:400,ariaLabel:"Share permalink",arrowPosition:"top",buttonContent:X.a.share,modalContent:r()(_e,{commentId:t})}),r()("div",{className:De},void 0,m&&r()(ye.a,{width:400,ariaLabel:"Flag content menu",arrowPosition:"top",className:De,buttonContent:X.a.flag,modalContent:r()(Pe,{commentId:t})}),!m&&r()(Oe.a,{},void 0,X.a.flag))))}Fe.displayName="Toolbar",Fe.defaultProps={viewId:null,user:void 0};var Ye,He,Ue,Be,Xe,qe=Object(be.a)(Fe),Je=n("mLxj"),We=Object(D.css)("border-bottom:1px solid ",S.a.color.gray60,";font-family:",S.a.font.franklinBase,";font-weight:",S.a.font.weight.medium,";margin-top:20px;padding-bottom:20px;&:last-of-type{border:none;padding-bottom:40px;}"),Ve=Object(D.css)(K.c,";margin-left:40px;"),Ge=Object(D.css)("& > *{&::before{color:",S.a.color.gray60,";content:'|';display:inline-block;margin:0 8px;}&:first-child::before{content:'';margin:0;}}"),Qe=Object(D.css)("white-space:nowrap;"),Ke=Object(D.css)("display:inline-block;float:right;font-size:",S.a.font.size(12),";font-weight:",S.a.font.weight.bold,";line-height:",S.a.font.size(18),";white-space:nowrap;",S.a.breakpoint.medium,"{font-size:0.737rem;line-height:1.05rem;}&::before{border-radius:50%;height:18px;width:18px;background-color:#fcc772;background-image:url('","/vi-assets/static-assets/icon-t-logo-16x16-333333-b4a149d323fc80fdbecfa988cc290882.svg","');background-position:center;background-repeat:no-repeat;background-size:10px 10px;content:'';display:inline-block;margin-right:4px;margin-bottom:-1px;vertical-align:sub;}"),Ze=Object(D.css)("border-radius:50%;height:18px;width:18px;background-color:",S.a.color.black,";background-image:url('",Je.a,"');background-position:center;background-repeat:no-repeat;background-size:10px 10px;display:inline-block;margin-left:4px;vertical-align:text-bottom;white-space:nowrap;"),$e=Object(D.css)("font-size:",S.a.font.size(14),";line-height:",S.a.font.size(20),";overflow-x:hidden;a{color:",S.a.color.linkColor,";font-family:",S.a.font.franklinBase,";text-decoration:none;&:hover{text-decoration:underline;}",K.c,";}"),et=Object(D.css)("font-size:",S.a.font.size(12),";line-height:",S.a.font.size(15),";color:",S.a.color.red10,";margin-top:5px;"),tt=Object(D.css)("margin-top:15px;"),nt=Object(D.css)("border:none;padding-bottom:0;.",Ve,"{margin-left:36px;}"),ot=Object(D.css)("margin-top:10px;");function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rt=(Ye=k()((function(e){return Object(Y.c)(e.commentId)})),He=Object(M.connect)((function(e,t){var n,o=Object(W.b)(e,t.commentId);if(!o)return{error:!0};var a=o.attributes.authorPanel,i=Object(W.h)(e,t.commentId),r={profile:{name:a.name,location:a.location,avatarUrl:a.avatar,title:a.title},isoTimestamp:o.attributes.sourceApprovedAt,isHighlighted:Boolean(o.attributes.isHighlighted),isReporterReply:Boolean(o.attributes.isReporterReply),replyToCommentId:i,hasSubmittedReply:t.commentId in e.commentEntry.submittedComments,text:o.attributes.text,isFlagged:Object(W.k)(e,t.commentId),commentEntryReplyToCommentId:e.commentEntry.replyToCommentId,numTotalReplies:Object(W.d)(e,t.commentId),userIsModerator:null===(n=e.profile.data)||void 0===n?void 0:n.isModerator};return t.isNested||(r.isFetchingReplies=o.relationships.replies.isFetchingReplies,r.replies=Object(W.c)(e,t.commentId)||[]),r})),Object(u.a)(Ue=Object(l.withRouter)(Ue=Ye(Ue=He((Xe=Be=function(e){I()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,o=j()(e);if(t()){var a=j()(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return N()(this,n)}}(n);function n(){var e;g()(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={shouldHideReplies:(e.props.viewId===F.d.HIGHLIGHTED||e.props.viewId===F.d.RECOMMENDED)&&0!==e.props.numTotalReplies},e.fetchReplies=function(){var t=e.props,n=t.tracking,o=t.articleId,a=t.commentId,i=t.replies,r=t.dispatch;e.props.viewId===F.d.REPORTER_REPLIES?r(Object(P.g)(o,a)):r(Object(P.i)(o,a,i.length)),n.trackEvent(Object(Y.e)(X.a.viewAllReplies))},e.handleShowReplies=function(){e.props.numTotalReplies>0&&0===e.props.replies.length&&e.fetchReplies(),e.setState(it({},e.state,{shouldHideReplies:!1}))},e.selectSingleComment=function(t){t.preventDefault();var n=e.props,o=n.commentId,a=n.replyToCommentId,i=n.tracking,r=n.viewId;i.trackEvent(Object(Y.l)(r,F.d.SINGLE_COMMENT)),a?Object(f.f)({history:e.props.history,location:e.props.location},a,o):Object(f.f)({history:e.props.history,location:e.props.location},o)},e.getTimeStamp=function(){var t=e.props,n=t.isoTimestamp,o=t.viewId,a=r()(V.a,{iso:n,formatter:"elapsed"});return o===F.d.SINGLE_COMMENT?a:r()("a",{href:"",onClick:e.selectSingleComment,className:Qe},void 0,a)},e}return O()(n,[{key:"render",value:function(){if(this.props.error)return null;this.props.isReporterReply&&null!=this.props.profile.title&&(this.props.profile.location=this.props.profile.title);var e=this.props,t=e.profile,n=e.commentId,o=e.isFlagged,a=e.isHighlighted,i=e.isNested,c=e.isReporterReply,s=e.viewId,l=e.totalComments,d=e.commentIndex,m=e.numTotalReplies,u=e.isAcceptingComments,p=e.replies,f=e.isFetchingReplies,h=e.hasSubmittedReply,v=e.userIsModerator,g=e.sourceId,y=e.articleId,O=this.state.shouldHideReplies,x=Object(G.formatDate)(this.props.isoTimestamp,"elapsed","en",!0),I="".concat(t.name," commented ").concat(x),w=!i&&!!m&&!O,N=this.getTimeStamp();return r()("div",{className:Object(D.cx)(We,b()({},nt,i)),role:"article",tabIndex:0,"aria-setsize":l,"aria-posinset":d,"aria-labelledby":"comment-description-".concat(d),"aria-describedby":"comment-content-".concat(d)},void 0,r()("a",{className:Object(D.cx)(S.a.a11y.visuallyHidden),href:"",id:"comment-description-".concat(d),"aria-label":I,tabIndex:-1},void 0,I),r()(Q.b,{avatarTitle:t.name,title:r()("span",{},void 0,t.name,c&&r()("div",{className:Ze})),avatarUrl:t.avatarUrl,subtitle:r()("span",{className:Ge},void 0,t.location&&r()("span",{dangerouslySetInnerHTML:{__html:t.location}}),N),secondaryContent:a&&r()("div",{className:Ke},void 0,X.a.timesPick),size:i?Q.a.SMALL:Q.a.MEDIUM}),r()("div",{className:Ve},void 0,r()("p",{id:"comment-content-".concat(d),className:$e,dangerouslySetInnerHTML:{__html:this.props.text}}),o&&r()("div",{className:et},void 0,X.a.reported),!o&&r()("div",{className:tt},void 0,r()(qe,{viewId:s,commentId:n,sourceId:g,isNested:i,handleShowReplies:this.handleShowReplies,shouldHideReplies:O,isAcceptingComments:u,userIsModerator:v}),this.props.commentEntryReplyToCommentId===n&&r()("div",{className:ot},void 0,r()(de,{replyToCommentId:n})),h&&r()(oe,{isReply:!0,replyToCommentId:n}),w&&r()(he,{viewId:s,replies:p,numTotalReplies:m,fetchReplies:this.fetchReplies,isFetchingReplies:f,isAcceptingComments:u,sourceId:g,articleId:y}))))}}]),n}(c.Component),Be.defaultProps={replyToCommentId:null,commentEntryReplyToCommentId:null,error:!1,isNested:!1,isReporterReply:!1,totalComments:0,commentIndex:0,replies:[],isFetchingReplies:!1,userIsModerator:!1,numTotalReplies:void 0,dispatch:function(){return null},hasSubmittedReply:void 0},Ue=Xe))||Ue)||Ue)||Ue)||Ue);rt.displayName="Comment";var ct=rt,st=(n("fbCW"),n("J4zp")),lt=n.n(st),dt=n("XnIf"),mt=Object(D.css)("color:",S.a.color.blue20,";font-size:13px;margin-bottom:10px;position:relative;text-align:right;"),ut=Object(D.css)("cursor:pointer;display:inline-block;"),pt=Object(D.css)("background:none;display:inline-block;width:9px;margin-left:6px;margin-bottom:2px;vertical-align:baseline;@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){height:10px;}"),ft=Object(D.css)("background-color:",S.a.color.white,";cursor:pointer;position:absolute;right:0;width:105px;ul{border-style:solid;box-shadow:2px 4px 6px ",S.a.color.gray60,";padding-top:4px;text-align:left;}li{color:",S.a.color.black,";padding:10px;&:hover{background-color:",S.a.color.gray90,";}}"),ht=Object(D.css)("font-weight:",S.a.font.weight.mediumBold,";");function bt(e){var t=e.articleId,n=e.listId,o=e.sortOptions,a=e.sortCommentList,i=e.selectedSortType,l=Object(T.useTracking)(),d=Object(c.useRef)(null),m=Object(c.useRef)(null),u=Object(c.useState)(!1),p=lt()(u,2),f=p[0],h=p[1];Object(c.useEffect)((function(){var e=function(e){null!=d.current&&d.current.contains(e.target)||h(!1)};return document.addEventListener("click",e,!0),function(){document.removeEventListener("click",e,!0)}}),[]);var v=function(){h(!f)},g=function(e,o){o.preventDefault(),e!==i&&(a(t,n,e),l.trackEvent(Object(Y.m)(e))),v(),m.current&&m.current.focus()};if(0===o.length)return null;var y=o.find((function(e){return e.sortType===i}));return s.a.createElement("div",{className:mt,ref:d},s.a.createElement("div",{role:"button",id:"comment-list-toggle-sort-options",tabIndex:0,onClick:v,onKeyDown:function(e){return _(e,v)},className:ut,ref:m},r()("span",{},void 0,"Sort by: ",y.label),r()("button",{type:"button",className:pt,tabIndex:-1,"aria-expanded":f,"aria-haspopup":"true"},void 0,r()(dt.a,{fill:S.a.color.blue20}))),f&&r()("div",{className:ft},void 0,r()("ul",{role:"tablist"},void 0,o.map((function(e){var t=e.sortType,n=e.label;return r()("li",{onClick:function(e){return g(t,e)},onKeyDown:function(e){_(e,(function(){g(t,e)}))},role:"tab",className:Object(D.cx)(b()({},ht,t===i)),"aria-selected":t===i,tabIndex:0},t,n)})))))}bt.displayName="SortOptions",bt.defaultProps={selectedSortType:null};var vt=Object(M.connect)((function(e,t){var n=e.commentLists[t.listId];return{sortOptions:(n.sortTypes||[]).map((function(e){return{sortType:e,label:F.b[e]}})),selectedSortType:n.selectedSortType||null}}),(function(e){return{sortCommentList:function(t,n,o){return e(Object(P.p)(t,n,o))}}}))(bt),gt=Object(D.css)("font-size:",S.a.font.size(13),";line-height:",S.a.font.size(20),";margin-top:20px;"),yt=Object(D.css)("background:",S.a.color.white,";border:1px solid ",S.a.color.gray50,";border-radius:4px;color:",S.a.color.gray27,";display:block;font-size:0.62rem;font-weight:",S.a.font.weight.medium,";letter-spacing:0.025rem;line-height:",S.a.font.size(18),";margin-top:20px;padding:5px 0;text-transform:uppercase;width:100%;&:hover{background-color:",S.a.color.gray90,";border:1px solid ",S.a.color.gray60,";color:",S.a.color.gray25,";}"),Ot=function(e){var t=e.children,n=e.offset,o=e.onEnter,a=e.onExit;if(e.disable||n>t.length)return t;var i=U()(t),c=r()(B.Waypoint,{onEnter:o,onExit:a},"waypointTwo");return i.splice(t.length-n,0,c),i};function xt(e){var t=e.shouldShowPanel,n=e.fetchCommentList,o=e.fetchCommentListNext,a=e.selectedSortType,i=e.viewId,s=e.articleId,l=e.listId,d=e.sourceId,m=e.commentIds,u=e.isFetching,p=e.isAcceptingComments,f=e.hasNext,h=e.isFetchingNext,b=Object(T.useTracking)();Object(c.useEffect)((function(){t&&n(s,l)}),[t,l,n,s]);var v=u||null===m?X.a.loading:0===m.length?X.a.noComments:null;if(v)return r()("div",{className:gt},void 0,v);var g=X.a.readMore,y=X.a.loading;return r()("div",{role:"feed",tabIndex:-1,"aria-label":X.a.commentList},void 0,a&&r()(vt,{articleId:s,listId:l,viewId:i}),m&&r()(Ot,{offset:15,onEnter:function(){return o(s,l)},disable:!f},void 0,m.map((function(e,t){return r()(ct,{tabIndex:0,totalComments:m.length,commentIndex:t+1,articleId:s,viewId:i,isAcceptingComments:p,commentId:e,sourceId:d},e+i)}))),f&&r()("button",{type:"button",className:yt,onClick:function(){return e=g,b.trackEvent(Object(Y.h)(i,e)),void o(s,l);var e},disabled:h},void 0,h?y:g))}xt.displayName="CommentList",xt.defaultProps={commentIds:null,selectedSortType:null,sourceId:void 0,isFetching:void 0,isFetchingNext:void 0,isAcceptingComments:void 0};var It=Object(M.connect)((function(e,t){var n,o,a=function(e,t){var n=function(e,t){return e.views[t]||null}(e,t);return n?n.listId:null}(e,t.viewId),i=function(e,t){return e.commentLists[t]||null}(e,a),r=null,c=!1,s=null;return i&&(r=i.commentIds||null,c=!!i.nextUrl,s=i.selectedSortType||null),{listId:a,commentIds:r,hasNext:c,isFetching:null===(n=e.commentLists[a])||void 0===n?void 0:n.isFetching,isFetchingNext:null===(o=e.commentLists[a])||void 0===o?void 0:o.isFetchingNext,selectedSortType:s}}),(function(e){return{fetchCommentList:function(t,n){return e(Object(P.e)(t,n))},fetchCommentListNext:function(t,n){return e(Object(P.f)(t,n))}}}))(xt),wt=Object(D.css)("margin-top:10px;"),Nt=Object(D.css)("color:",S.a.color.gray20,";font-size:",S.a.font.size(14),";font-weight:",S.a.font.weight.medium,";line-height:",S.a.font.size(18),";margin-bottom:12px;margin-top:15px;a{color:",S.a.color.blue20,";font-family:",S.a.font.franklinBase,";text-decoration:none;&:hover{text-decoration:underline;}}",S.a.breakpoint.medium,"{line-height:",S.a.font.size(20),";}"),Ct=Object(D.css)(K.b,";box-sizing:border-box;color:",S.a.color.gray30,";display:block;font-size:",S.a.font.size(14),";height:42px;line-height:",S.a.font.size(24),";padding-top:11px;"),jt=Object(D.css)("cursor:text;");function Tt(){var e=a()(["\n    fragment CommentPrompt_article on Article {\n      ...CommentEntry_article\n    }\n    ","\n  "]);return Tt=function(){return e},e}function kt(e){var t=e.user,n=e.article,o=e.isFetching,a=e.commentQuestion,i=e.isAcceptingComments,c=e.commentEntryReplyToCommentId,s=e.openCommentEntry,l=Object(T.useTracking)();if(o)return null;if(!i)return r()("div",{className:Object(D.cx)(wt,Nt),dangerouslySetInnerHTML:{__html:X.a.commentsClosed}});var d=Object(W.i)(),m=Object(ve.c)(t);if(c===d&&m)return r()("div",{className:wt},void 0,r()(de,{article:n,replyToCommentId:d}));var u=X.a.commentPromptPlaceholder,p=a===u?X.a.welcome:a,f=X.a.moderationDisclaimer;return r()("div",{className:wt},void 0,m&&r()("span",{className:Object(D.cx)(Ct,jt),onClick:s,onKeyPress:s,role:"textbox",tabIndex:"0"},void 0,u),!m&&r()(Oe.a,{},void 0,r()("span",{className:Ct},void 0,u)),r()("div",{className:Nt},void 0,p," ",r()("a",{href:"https://www.nytimes.com/content/help/site/usercontent/usercontent.html",target:"_blank",rel:"noopener noreferrer",onClick:function(){return e=f,void l.trackEvent(Object(Y.f)(e));var e}},void 0,f)))}kt.displayName="CommentPrompt",kt.defaultProps={user:void 0,article:void 0,isAcceptingComments:void 0,isFetching:void 0,commentEntryReplyToCommentId:void 0},kt.fragments={article:m()(Tt(),de.fragments.article)};var zt=Object(be.a)(Object(M.connect)((function(e){return{isFetching:e.article.isFetching,commentQuestion:e.panel.commentQuestion||"",commentEntryReplyToCommentId:e.commentEntry.replyToCommentId}}),(function(e){return{openCommentEntry:function(){return e(Object(P.m)(Object(W.i)()))}}}))(kt)),Lt=Object(D.css)("background:none;border:none;color:",S.a.color.blue20,";font-size:",S.a.font.size(13),";font-weight:",S.a.font.weight.book,";line-height:",S.a.font.size(20),";"),Mt=Object(D.css)("max-width:300px;text-align:center;"),Et=Object(D.css)("font-family:",S.a.font.franklinBase,";font-weight:",S.a.font.weight.bold,";font-size:17px;display:flex;justify-content:center;align-items:center;.",Mt,"{padding:100px 0;}@supports (height:100vh){height:70vh;.",Mt,"{padding:0;}}");function St(e){var t=e.articleId,n=e.sourceId,o=e.commentId,a=e.replyCommentId,i=e.isFetching,s=e.isCommentLoaded,l=e.isAcceptingComments,d=e.fetchComments,m=e.closeView,u=Object(c.useState)(i),p=lt()(u,2),f=p[0],h=p[1];return Object(c.useEffect)((function(){var e=function(){return h(!1)};d(t,o,a?[a]:[]).then(e).catch(e)}),[t,o,d,a]),r()("div",{},void 0,r()("button",{type:"button",className:Lt,onClick:m},void 0,X.a.backToAllComments),s&&r()(ct,{articleId:t,sourceId:n,commentId:o,viewId:F.d.SINGLE_COMMENT,isAcceptingComments:l}),!f&&!s&&r()("div",{className:Et},void 0,r()("span",{className:Mt},void 0,X.a.commentNotFound)))}St.displayName="SingleComment",St.defaultProps={isFetching:!0,sourceId:void 0,isAcceptingComments:void 0,isCommentLoaded:!1,replyCommentId:""};var Rt=Object(M.connect)((function(e,t){var n=Object(W.b)(e,t.commentId);return{isCommentLoaded:Boolean(n)}}),(function(e){return{fetchComments:function(t,n,o){return e(Object(P.g)(t,n,o))}}}))(St),_t=n("+4HN"),At=Object(D.css)("font-family:",S.a.font.franklinBase,";font-weight:",S.a.font.weight.medium,";font-size:",S.a.font.size(17),";letter-spacing:0.2px;line-height:1.2rem;display:flex;justify-content:center;align-items:center;height:100%;width:100%;"),Dt=Object(D.css)("max-width:300px;p{padding:1em 0;}"),Pt=Object(D.css)("color:",S.a.color.blue20,";"),Ft=r()("div",{className:At},void 0,r()("div",{className:Dt},void 0,r()("p",{},void 0,"Due to technical difficulties, comments are unavailable. We’re working to fix the issue as soon as possible."),r()("p",{},void 0,"If you have a critical piece of feedback for us, you can always reach the newsroom via the"," ",r()(_t.a,{className:Pt,alt:"reader center",url:"https://www.nytimes.com/2017/08/08/reader-center/we-want-to-hear-from-you.html"},void 0,"Reader Center"),"."),r()("p",{},void 0,"Thank you for reading, and sorry for the trouble!"))),Yt=function(){return Ft};Yt.displayName="UnderMaintenance";var Ht=Yt,Ut=(n("yWo2"),Object(D.css)("position:relative;")),Bt=Object(D.css)("background:-webkit-linear-gradient(left,rgba(255,255,255,0) 0%,rgba(255,255,255,1) 100%);height:42px;position:absolute;pointer-events:none;right:0;top:0;width:30px;z-index:2;"),Xt=Object(D.css)("background:",S.a.color.white,";border-bottom:1px solid ",S.a.color.gray60,";box-shadow:0 6px 6px -6px ",S.a.color.gray60,";display:block;height:42px;-webkit-overflow-scrolling:touch;overflow-x:auto;overflow-y:hidden;&::-webkit-scrollbar{display:none;}@media (max-width:",S.a.breakpoint.width.small,"px){padding:0 20px;}ul{color:",S.a.color.gray35,";display:inline-block;font-size:",S.a.font.size(14),";line-height:",S.a.font.size(21),";overflow:hidden;white-space:nowrap;",S.a.breakpoint.medium,"{font-size:",S.a.font.size(14),";line-height:",S.a.font.size(21),";}",S.a.breakpoint.extraLarge,"{font-size:",S.a.font.size(14),";line-height:",S.a.font.size(21),";}li{display:inline-block;cursor:pointer;padding-top:15px;padding-bottom:4px;margin-right:20px;min-width:30px;text-align:center;font-weight:",S.a.font.weight.mediumBold,";a{color:",S.a.color.gray35,";}&.selected{border-bottom:2px solid ",S.a.color.black,";color:",S.a.color.black,";font-weight:",S.a.font.weight.mediumBold,";a{color:",S.a.color.black,";}}}}");function qt(e){var t=e.tabs,n=e.selectedViewId,o=e.selectView,a=e.firstTabRef,i=Object(T.useTracking)();return 0===t.length?null:r()("div",{className:Ut},void 0,r()("div",{className:Bt}),r()("div",{className:Xt},void 0,r()("ul",{role:"tablist"},void 0,t.map((function(e,t){var c=e.viewId,l=e.label;return r()("li",{className:Object(D.cx)({selected:n===c}),role:"tab","aria-selected":n===c},c,s.a.createElement("a",{href:"",ref:0===t?a:null,tabIndex:0,onClick:function(e){return function(e,t){t.preventDefault(),e!==n&&(i.trackEvent(Object(Y.l)(n,e)),o(e))}(c,e)}},l))})))))}qt.displayName="Tabs",qt.defaultProps={tabs:[],selectedViewId:null};var Jt=Object(M.connect)((function(e){return{tabs:e.panel.tabs}}),(function(e){return{selectView:function(t){return e(Object(P.o)(t))}}}))(qt),Wt=n("kV2j"),Vt=Object(D.css)("color:",S.a.color.black,";display:inline-block;font-weight:",S.a.font.weight.bold,";font-size:",S.a.font.size(30),";line-height:",S.a.font.size(34),";padding-left:2px;padding-right:2px;span{color:",S.a.color.gray20,";font-weight:",S.a.font.weight.medium,";font-size:",S.a.font.size(24),";line-height:",S.a.font.size(29),";}a:focus{outline:0;}"),Gt=Object(D.css)("color:",S.a.color.blue30,";display:none;font-family:",S.a.font.serifMedium,";line-height:1.18rem;margin-top:5px;text-decoration:none;&:hover{text-decoration:underline;}"),Qt=Object(D.css)("font-family:",S.a.font.franklinBase,";font-size:",S.a.font.size(14),";line-height:",S.a.font.size(20),";font-weight:",S.a.font.weight.bold,";text-transform:uppercase;letter-spacing:0.05em;top:50px;right:125px;");function Kt(){var e=a()(["\n    fragment Header_article on Article {\n      headline {\n        default\n      }\n    }\n  "]);return Kt=function(){return e},e}var Zt="Comments Panel";function $t(e){var t=e.closePanel,n=e.skipToCommentList,o=e.commentCount,a=e.article;return r()("header",{},void 0,r()("h2",{className:Vt},void 0,r()("a",{href:"#commentsContainer",tabIndex:-1,"aria-label":Zt},void 0,"Comments ",o>0&&r()("span",{},void 0,o))),r()("a",{className:Gt,href:"",onClick:t},void 0,a.headline.default),r()("a",{href:"",className:Object(D.cx)(S.a.a11y.visuallyHidden,S.a.a11y.focusable,Qt),onClick:n,tabIndex:0},void 0,"Skip to Comments"))}$t.displayName="Header",$t.defaultProps={commentCount:void 0},$t.fragments={article:m()(Kt())};var en,tn,nn,on,an,rn=Object(M.connect)((function(e){return{commentCount:Object(Wt.b)(e)}}))($t),cn=Object(D.css)("background-color:",S.a.color.white,";box-shadow:3px 0 12px 3px rgba(0,0,0,0.25);font-family:",S.a.font.franklinBase,";height:100%;overflow:hidden;position:fixed;right:0;top:0;width:100%;z-index:",S.a.zIndex.commentsPanel,";visibility:hidden;transform:translateX(110%);transition:transform 300ms ease,visibility 300ms;",S.a.printHide,";",S.a.breakpoint.small,"{width:530px;}"),sn=Object(D.css)("visibility:visible;transform:none;transition:transform 300ms ease,visibility 300ms;"),ln=Object(D.css)("background-color:",S.a.color.white,";display:block;height:15px;right:16px;position:absolute;top:16px;width:15px;z-index:3;@media (max-width:",S.a.breakpoint.width.small,"px){right:15px;}"),dn=Object(D.css)("height:100%;overflow-y:scroll;width:100%;-webkit-overflow-scrolling:touch;"),mn=Object(D.css)("padding:40px 0;position:relative;box-sizing:border-box;height:100%;"),un=Object(D.css)("padding:0 40px;z-index:0;@media (max-width:",S.a.breakpoint.width.small,"px){padding:0 20px;}"),pn=Object(D.css)("margin-bottom:10px;position:sticky;top:0;z-index:2;",S.a.breakpoint.small,"{padding:0 40px;}");function fn(){var e=a()(["\n    fragment CommentsPanel_article on Article {\n      ...CommentPrompt_article\n      ...Header_article\n      sourceId\n      url\n    }\n    ","\n    ","\n  "]);return fn=function(){return e},e}var hn=r()(Ht,{}),bn=(en=Object(M.connect)((function(e,t){var n,o={viewId:e.panel.viewId},a=Object(f.c)(t.location),i=a.commentId,r=a.replyCommentId;return i&&(o.backToViewId=o.viewId,o.viewId=F.d.SINGLE_COMMENT,o.singleComment={commentId:i,replyCommentId:r}),(null===(n=e.article)||void 0===n?void 0:n.data)&&(o.articleId=e.article.data.id),o.isAcceptingComments=Object(p.f)(e.article.commentStatus),o.hasSubmittedParentComment=!1,o.replyToCommentId=Object(W.i)(),o.isUnderMaintenance=e.panel.isUnderMaintenance||!1,e.commentEntry&&(o.hasSubmittedParentComment=Object(W.i)()in e.commentEntry.submittedComments),o}),(function(e){return{fetchProfile:function(t){return e(Object(P.h)(t))},fetchArticle:function(t,n){return e(Object(P.d)(t,n))}}})),tn=k()((function(e){return Object(Y.k)(e.viewId)})),Object(l.withRouter)(nn=en(nn=tn((an=on=function(e){I()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,o=j()(e);if(t()){var a=j()(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return N()(this,n)}}(n);function n(){var e;g()(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).commentsPanelRef=s.a.createRef(),e.firstTabRef=s.a.createRef(),e.handleOpenPanel=function(){return Object(f.e)({history:e.props.history,location:e.props.location})},e.handleClosePanel=function(){return Object(f.a)({history:e.props.history,location:e.props.location})},e.handleClosePanel=function(){e.props.tracking.trackEvent(Object(Y.b)()),e.focusOnSpeechBubble(),Object(f.a)({history:e.props.history,location:e.props.location})},e.handleCloseSingleComment=function(){var t=e.props,n=t.backToViewId;t.tracking.trackEvent(Object(Y.l)(F.d.SINGLE_COMMENT,n)),Object(f.b)(e.props)},e.focusOnSpeechBubble=function(){if(document&&window){var e=window.NYT_SPEECHBUBBLE||"comments-speech-bubble-top",t=document.getElementById(e);t&&(t.focus(),delete window.NYT_SPEECHBUBBLE)}},e.focusOnCommentsPanel=function(){e.commentsPanelRef.current&&setTimeout((function(){return e.commentsPanelRef.current.focus()}),450)},e.skipToCommentList=function(t){t.preventDefault(),e.firstTabRef.current&&setTimeout((function(){return e.firstTabRef.current.focus()}),500)},e.escHandler=function(t){return A(t,e.handleClosePanel)},e}return O()(n,[{key:"showPanelWithTracking",value:function(){var e,t=this.props,n=t.viewId,o=t.articleId,a=t.tracking,i=t.article.url,r=t.shouldShowPanel,c=t.location.search,s=L.a.parse(c);this.props.fetchProfile(i),this.props.fetchArticle(o,i),this.focusOnCommentsPanel(),"HPCommentsRefer"===s.modref?e=Y.a.AUTOOPEN_HOME:"comment-approval"===s.emc?e=Y.a.AUTOOPEN_EMAIL_LINK:n===F.d.SINGLE_COMMENT?e=Y.a.AUTOOPEN_PERMALINK:r&&(e=Y.a.AUTOOPEN),e&&setTimeout((function(){return a.trackEvent(Object(Y.i)(e))}),1e3)}},{key:"componentDidMount",value:function(){this.props.shouldShowPanel&&this.showPanelWithTracking(),document.addEventListener("keydown",this.escHandler,!1),window.NYT_openCommentsPanel=this.handleOpenPanel}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escHandler,!1)}},{key:"componentDidUpdate",value:function(e){!e.shouldShowPanel&&this.props.shouldShowPanel&&this.showPanelWithTracking()}},{key:"render",value:function(){var e=this.props,t=e.singleComment,n=e.article,o=e.articleId,a=e.viewId,i=e.article.sourceId,c=e.shouldShowPanel,l=e.isAcceptingComments,d=e.replyToCommentId,m=e.hasSubmittedParentComment,u=e.isUnderMaintenance,p=!u&&t&&t.commentId,f=!u&&!p;return r()("div",{className:Object(D.cx)(cn,b()({},sn,c)),role:"region","aria-label":"comments panel",tabIndex:-1},void 0,s.a.createElement("button",{ref:this.commentsPanelRef,type:"button",className:ln,onClick:this.handleClosePanel,"aria-label":"close comments panel"},r()(R.a,{tabIndex:0,stroke:S.a.color.gray30})),r()("div",{className:dn},void 0,r()("div",{className:mn},void 0,u&&hn,p&&o&&r()("div",{className:un},void 0,r()(Rt,{tabIndex:0,sourceId:i,articleId:o,commentId:t.commentId,replyCommentId:t.replyCommentId,closeView:this.handleCloseSingleComment,isAcceptingComments:l})),f&&r()("div",{},void 0,r()("div",{className:un},void 0,r()(rn,{article:n,closePanel:this.handleClosePanel,skipToCommentList:this.skipToCommentList}),!m&&r()(zt,{article:n,isAcceptingComments:l}),m&&r()(oe,{replyToCommentId:d})),s.a.createElement("div",{ref:this.commentsListRef,className:pn},r()(Jt,{selectedViewId:a,firstTabRef:this.firstTabRef})),r()("div",{className:un},void 0,o&&a&&r()(It,{shouldShowPanel:c,isAcceptingComments:l,viewId:a,articleId:o,sourceId:i}))))))}}]),n}(c.Component),on.defaultProps={hasSubmittedParentComment:void 0,isAcceptingComments:void 0,isUnderMaintenance:void 0,singleComment:void 0,articleId:void 0,viewId:void 0,replyToCommentId:void 0,backToViewId:void 0,location:{},history:{}},nn=an))||nn)||nn)||nn);bn.displayName="CommentsPanel",bn.fragments={article:m()(fn(),zt.fragments.article,rn.fragments.article)};var vn=bn;function gn(){var e=a()(["\n    fragment CommentsPanelContainer_article on Article {\n      commentProperties {\n        status\n      }\n      ...CommentsPanel_article\n    }\n    ","\n  "]);return gn=function(){return e},e}function yn(e){var t=e.article,n=Object(l.useLocation)();return Object(p.h)(t.commentProperties.status)?r()(vn,{shouldShowPanel:Object(f.d)({location:n}),article:t}):null}yn.fragments={article:m()(gn(),vn.fragments.article)};var On=Object(u.a)(yn);On.displayName="CommentsPanelContainer";var xn=On}}]);
//# sourceMappingURL=comments-6777f9d7285ea457fc2f.js.map